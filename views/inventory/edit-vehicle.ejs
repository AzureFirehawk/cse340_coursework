<!-- Content Heading. Determine if Title exists, otherwise redirect to home -->
<% if (title) { %>
    <h1>
        <%= title %>
    </h1>
<% } else { res.redirect('/'); } %>

<!-- Message block for future use -->
<%- messages() %>


<% if (errors) { %>
    <ul class="notice">
        <% errors.array().forEach(error=> { %>
            <li>
               <%= error.msg %>
            </li>
        <% }); %>
    </ul>
<% } %>

<!-- Add Vehicle form -->
<div class="account-form">
    <form action="/inv/update" method="post">
        <h2>*All fields are required</h2>
        <label for="classificationId">Classification</label>
        <%- classificationList %>
        <label for="invMake">Make</label>
        <input type="text" id="invMake" name="inv_make" required value="<%= locals.inv_make %>" pattern="^[a-zA-Z ]+$" placeholder="Min. 3 characters">
        <label for="invModel">Model</label>
        <input type="text" id="invModel" name="inv_model" required value="<%= locals.inv_model %>" pattern="^[a-zA-Z ]+$" placeholder="Min. 3 characters">
        <label for="invYear">Year</label>
        <input type="number" id="invYear" name="inv_year" required value="<%= locals.inv_year %>" placeholder="4-digit year" max="9999">
        <label for="invColor">Color</label>
        <input type="text" id="invColor" name="inv_color" required value="<%= locals.inv_color %>" pattern="^[a-zA-Z]+$">
        <label for="invDescription">Description</label>
        <textarea id="invDescription" name="inv_description" rows="4" required ><%= locals.inv_description %></textarea>
        <label for="invImage">Image Path</label>
        <input type="text" id="invImage" name="inv_image" required value="<%= locals.inv_image %>" placeholder="/images/vehicles/no-image.jpg">
        <label for="invThumbnail">Thumbnail Path</label>
        <input type="text" id="invThumbnail" name="inv_thumbnail" required value="<%= locals.inv_thumbnail %>" placeholder="/images/vehicles/no-image-tn.jpg">
        <label for="invPrice">Price</label>
        <input type="text" id="invPrice" name="inv_price" required value="<%= locals.inv_price %>" pattern="^[0-9.]+$" placeholder="Decimal or Integer">
        <label for="invMiles">Miles</label>
        <input type="text" id="invMiles" name="inv_miles" required value="<%= locals.inv_miles %>" pattern="^[0-9]+$" placeholder="Digits only">
        <button type="submit">Update Vehicle</button>
        <input type="hidden" name="inv_id"
        <% if (locals.inv_id) { %> value="<%= locals.inv_id %>" 
        <% } %>>
    </form>
</div>